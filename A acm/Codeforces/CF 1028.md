https://codeforces.com/contest/2116/problem/B
![image](https://img2024.cnblogs.com/blog/3627480/202506/3627480-20250601143106381-1780178891.png)

```cpp
#include<bits/stdc++.h>
using namespace std;
#define endl "\n"
//const int mxn=2e5+7;
//#define int long long
//#define ll long long
const int N=1e5+7,mod=998244353;;
//const int inf=0x3f3f3f3f;
//#define For(a,b) for(int i=(a);i<=(b);++i)
int pw[N]={1};
void solve(){
    int n; cin>>n; 
    vector<int>a(n),b(n);
    for(auto &x:a)cin>>x;
    for(auto &x:b)cin>>x;
    for(int i=0,x=0,y=0;i<n;++i){
        if(a[i]>a[x])x=i;
        if(b[i]>b[y])y=i;//不能直接用max,因为可能有的数取模，有的数没取，根本无法比较
        //cout<<max((pw[a[x]]+pw[b[i-x]])%mod,(pw[a[i-y]]+pw[b[y]])%mod)<<(i==n-1?"\n":" ");
        if(a[x]>b[y] || a[x]==b[y] && b[i-x]>a[i-y])
			cout<<(pw[a[x]]+pw[b[i-x]])%mod;
		else cout<<(pw[a[i-y]]+pw[b[y]])%mod;
            cout<<(i==n-1?"\n":" ");  
    }
 }    
signed main(){
   ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);
   int T=1;
   for(int i=1;i<N;++i)pw[i]=pw[i-1]*2%mod;
   cin>>T;
   while(T--)solve();
   return 0;
}
```
## C
https://codeforces.com/contest/2116/problem/C
![image](https://img2024.cnblogs.com/blog/3627480/202506/3627480-20250602215411106-399439700.png)

```cpp
#include<bits/stdc++.h>
using namespace std;
#define endl "\n"
//const int mxn=2e5+7;
//#define int long long
//#define ll long long
const int N=5e3+7;
//const int inf=0x3f3f3f3f;
//#define For(a,b) for(int i=(a);i<=(b);++i)
//0和一个数的最大公约数是这个数本身,C++中的gcd函数是__gcd
void solve(){
   int n,g; cin>>n;
   vector<int>a(n),dp(N,N);
   for(auto &x:a)cin>>x,g=__gcd(g,x),dp[x]=0;
   int ans=count(a.begin(),a.end(),g);
   if(ans){cout<<n-ans<<endl; return ;}
   for(int i=0;i<n;++i){
      for(int j=1;j<N;++j){
          int gc=__gcd(a[i],j);
          dp[gc]=min(dp[gc],dp[j]+1);
      }//第一次循环寻找并记录a[i]与剩余的数的gcd
   }//第二次循环寻找并记录a[i+1]与所有剩余的数的gcd以及上次记录的最大公约数即有的j已经被+1了。
 cout<<dp[g]+n-1<<endl;
 }     
signed main(){
   ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);
   int T=1;
   cin>>T;
   while(T--)solve();
   return 0;
}
```